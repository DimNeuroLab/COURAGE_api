# COURAGE_api
 Collection of all COURAGE algorithms and its API

## Endpoints and routes
There are several endpoints:

### General

| Endpoint | HTTP method | Requires auth? | Description                                                                           | Returned data                                                                                                                                                                                                                                                                                                                                                    | Requested data format                           | 
| -------- | ----------- | -------------- |---------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
| /info/ | GET | no | Info on API when it is live and online                                                | **200 OK** `{'COURAGE': 'api', 'version': '1.0'}` if up and running                                                                                                                                                                                                                                                                                              | none                                            |


### Images

| Endpoint | HTTP method | Requires auth? | Description                                                                           | Returned data                                                                                                                                                                                                                                                                                                                                                    | Requested data format                           | 
| -------- | ----------- | -------------- |---------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
| /predict_bmi/ | POST | no | BMI prediction based on an image. Returns predicted BMI and class label on success, else sends 444 | **200 OK** `{'bmi': <bmi>, 'label': <label>}` on success, where `<bmi>` contains the BMI as float and `<label>` the body class as string. <br /> **400 Missing Arg** if no image is passed to the endpoint. <br /> **444 Bad Request** else                                                                                                                      | `{image: <image>}` as utf-8 encoded bytes string |
| /predict_gender/ | POST | no | Gender prediction based on image. Returns predicted gender label on success, else sends 444 | **200 OK** `{'gender': <gender> }` on success, where `<gender>` contains gender class label as string. <br /> **400 Missing Arg** if no image is passed to the endpoint. <br /> **444 Bad Request** else                                                                                                                                                         | `{image: <image>}` as utf-8 encoded bytes string |
| /detect_objects/ | POST | no | Object detection in image. Returns predicted object labels on success, else sends 444 | **200 OK** `{'objects': [{'label': <label>, 'x': <x>, 'y': <y>, 'w': <w>, 'h': <h>}*n]}` on success, where `<label>` is the name of one detected object, `<x>` is its x coordinate in the image, `<y>` its y coordinate, `<w>` its width and `<h>` its height. <br /> **400 Missing Arg** if no image is passed to the endpoint. <br /> **444 Bad Request** else | `{image: <image>}` as utf-8 encoded bytes string |

### Text Italian

| Endpoint       | HTTP method | Requires auth? | Description                                                                                                  | Returned data                                                                                                                                                                                                                                                                                          | Requested data format        | 
|----------------|-------------|----------------|--------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
| /sentiment_IT/ | POST        | no             | Sentiment prediction based on an Italian text. Returns positve/negative sentiment scores on success, else 444 | **200 OK** `{'negative': <neg>, 'positive': <pos>}` on success, where `<neg>` is the probability (float) of negative sentiment and `<pos>` the pobability of positive sentiment, `<neg> + <pos> = 1`. <br /> **400 Missing Arg** if no text is passed to the endpoint. <br /> **444 Bad Request** else | `{'text': <text>}` as string |
| /emotion_IT/   | POST        | no             | Emotion prediction based on an Italian text. Returns emotion type and confidence score on success, else 444  | **200 OK** `{'label': <label>, 'confidence': <confidence>}` on success, where `<label>` is the emotion type as string and `<confidence>` the pobability of the emotion. <br /> **400 Missing Arg** if no text is passed to the endpoint. <br /> **444 Bad Request** else                               | `{'text': <text>}` as string |
